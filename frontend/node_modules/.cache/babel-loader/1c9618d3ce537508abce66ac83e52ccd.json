{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tech Guru\\\\Desktop\\\\Javascript\\\\social\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport './App.css';\nimport Feed from './components/Feed';\nimport Header from './components/Header';\nimport AuthForm from './components/AuthForm';\nimport Profile from './components/Profile';\nimport { updateContext } from './context/updateContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [user, setUser] = useState(null);\n  const [updater, setUpdater] = useState(0);\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n\n    if (storedUser) {\n      try {\n        const parsedUser = JSON.parse(storedUser);\n        setUser(parsedUser);\n      } catch (error) {\n        console.error('Error parsing stored user data:', error);\n        localStorage.removeItem('user'); // Remove invalid data\n      }\n    }\n  }, []);\n\n  const handleAuth = userData => {\n    setUser(userData);\n    localStorage.setItem('user', JSON.stringify(userData));\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n    setUser(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(updateContext.Provider, {\n        value: [updater, setUpdater],\n        children: [user && /*#__PURE__*/_jsxDEV(Header, {\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            children: user ? /*#__PURE__*/_jsxDEV(Feed, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/auth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/auth\",\n            children: user ? /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(AuthForm, {\n              onAuth: handleAuth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            children: user ? /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/auth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"LfLmSV+kqvzqsOwx73Ug1/Fz8C0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Tech Guru/Desktop/Javascript/social/frontend/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Switch","Redirect","Feed","Header","AuthForm","Profile","updateContext","App","user","setUser","updater","setUpdater","storedUser","localStorage","getItem","parsedUser","JSON","parse","error","console","removeItem","handleAuth","userData","setItem","stringify","handleLogout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport './App.css';\nimport Feed from './components/Feed';\nimport Header from './components/Header';\nimport AuthForm from './components/AuthForm';\nimport Profile from './components/Profile';\nimport { updateContext } from './context/updateContext';\n\nfunction App() {\n    const [user, setUser] = useState(null);\n    const [updater, setUpdater] = useState(0);\n\n    useEffect(() => {\n        const storedUser = localStorage.getItem('user');\n        if (storedUser) {\n            try {\n                const parsedUser = JSON.parse(storedUser);\n                setUser(parsedUser);\n            } catch (error) {\n                console.error('Error parsing stored user data:', error);\n                localStorage.removeItem('user'); // Remove invalid data\n            }\n        }\n    }, []);\n\n    const handleAuth = (userData) => {\n        setUser(userData);\n        localStorage.setItem('user', JSON.stringify(userData));\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem('user');\n        localStorage.removeItem('token');\n        setUser(null);\n    };\n\n    return (\n        <Router>\n            <div className=\"App\">\n                <updateContext.Provider value={[updater, setUpdater]}>\n                    {user && <Header onLogout={handleLogout} />}\n                    <Switch>\n                        <Route exact path=\"/\">\n                            {user ? <Feed /> : <Redirect to=\"/auth\" />}\n                        </Route>\n                        <Route path=\"/auth\">\n                            {user ? <Redirect to=\"/\" /> : <AuthForm onAuth={handleAuth} />}\n                        </Route>\n                        <Route path=\"/profile\">\n                            {user ? <Profile /> : <Redirect to=\"/auth\" />}\n                        </Route>\n                    </Switch>\n                </updateContext.Provider>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}