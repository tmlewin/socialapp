{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tech Guru\\\\Desktop\\\\Javascript\\\\social\\\\frontend\\\\src\\\\components\\\\AuthForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from '../axios';\nimport { Eye } from 'lucide-react';\nimport './css/AuthForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AuthForm = ({\n  onAuthSuccess\n}) => {\n  _s();\n\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [dateOfBirth, setDateOfBirth] = useState('');\n  const [location, setLocation] = useState('');\n  const [bio, setBio] = useState('');\n  const [website, setWebsite] = useState('');\n  const [error, setError] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      const endpoint = isLogin ? '/api/auth/login' : '/api/auth/register';\n      const userData = isLogin ? {\n        username,\n        password\n      } : {\n        username,\n        password,\n        email,\n        displayName,\n        fullName,\n        dateOfBirth,\n        location,\n        bio,\n        website\n      };\n      const response = await axios.post(endpoint, userData);\n\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n\n        if (typeof onAuthSuccess === 'function') {\n          onAuthSuccess(response.data.user);\n        } else {\n          console.error('onAuthSuccess is not a function');\n          setError('An error occurred during authentication. Please try again.');\n        }\n      } else {\n        setError('Authentication failed. Please try again.');\n      }\n    } catch (error) {\n      console.error('Auth error:', error);\n\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        setError(`Error ${error.response.status}: ${error.response.data.message || 'An error occurred'}`);\n      } else if (error.request) {\n        // The request was made but no response was received\n        setError('No response received from the server. Please try again later.');\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        setError('An error occurred. Please try again.');\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Enter your credentials to access your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: isLogin ? 'active' : '',\n          onClick: () => setIsLogin(true),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: !isLogin ? 'active' : '',\n          onClick: () => setIsLogin(false),\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"username\",\n            placeholder: \"Enter your username\",\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"password-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: showPassword ? \"text\" : \"password\",\n              id: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Eye, {\n              className: \"password-toggle\",\n              onClick: () => setShowPassword(!showPassword)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), !isLogin && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"confirmPassword\",\n              children: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"confirmPassword\",\n              value: confirmPassword,\n              onChange: e => setConfirmPassword(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"displayName\",\n              children: \"Display Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"displayName\",\n              value: displayName,\n              onChange: e => setDisplayName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fullName\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"fullName\",\n              value: fullName,\n              onChange: e => setFullName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"dateOfBirth\",\n              children: \"Date of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"dateOfBirth\",\n              value: dateOfBirth,\n              onChange: e => setDateOfBirth(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"location\",\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"location\",\n              value: location,\n              onChange: e => setLocation(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"bio\",\n              children: \"Bio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"bio\",\n              value: bio,\n              onChange: e => setBio(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"website\",\n              children: \"Website\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              id: \"website\",\n              value: website,\n              onChange: e => setWebsite(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-btn\",\n          children: isLogin ? 'Sign In' : 'Create Account'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"terms\",\n        children: \"Protected by reCAPTCHA and subject to the Privacy Policy and Terms of Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AuthForm, \"67CDKbiUYev34Iwp9HO1xWqOLvQ=\");\n\n_c = AuthForm;\nexport default AuthForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"sources":["C:/Users/Tech Guru/Desktop/Javascript/social/frontend/src/components/AuthForm.jsx"],"names":["React","useState","axios","Eye","AuthForm","onAuthSuccess","isLogin","setIsLogin","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","email","setEmail","displayName","setDisplayName","fullName","setFullName","dateOfBirth","setDateOfBirth","location","setLocation","bio","setBio","website","setWebsite","error","setError","showPassword","setShowPassword","handleSubmit","e","preventDefault","endpoint","userData","response","post","data","token","localStorage","setItem","JSON","stringify","user","console","status","message","request","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from '../axios';\r\nimport { Eye } from 'lucide-react';\r\nimport './css/AuthForm.css';\r\n\r\nconst AuthForm = ({ onAuthSuccess }) => {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [displayName, setDisplayName] = useState('');\r\n    const [fullName, setFullName] = useState('');\r\n    const [dateOfBirth, setDateOfBirth] = useState('');\r\n    const [location, setLocation] = useState('');\r\n    const [bio, setBio] = useState('');\r\n    const [website, setWebsite] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        try {\r\n            const endpoint = isLogin ? '/api/auth/login' : '/api/auth/register';\r\n            const userData = isLogin ? { username, password } : {\r\n                username, password, email, displayName, fullName, dateOfBirth, location, bio, website\r\n            };\r\n            const response = await axios.post(endpoint, userData);\r\n            \r\n            if (response.data.token) {\r\n                localStorage.setItem('token', response.data.token);\r\n                localStorage.setItem('user', JSON.stringify(response.data.user));\r\n                if (typeof onAuthSuccess === 'function') {\r\n                    onAuthSuccess(response.data.user);\r\n                } else {\r\n                    console.error('onAuthSuccess is not a function');\r\n                    setError('An error occurred during authentication. Please try again.');\r\n                }\r\n            } else {\r\n                setError('Authentication failed. Please try again.');\r\n            }\r\n        } catch (error) {\r\n            console.error('Auth error:', error);\r\n            if (error.response) {\r\n                // The request was made and the server responded with a status code\r\n                // that falls out of the range of 2xx\r\n                setError(`Error ${error.response.status}: ${error.response.data.message || 'An error occurred'}`);\r\n            } else if (error.request) {\r\n                // The request was made but no response was received\r\n                setError('No response received from the server. Please try again later.');\r\n            } else {\r\n                // Something happened in setting up the request that triggered an Error\r\n                setError('An error occurred. Please try again.');\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"auth-form-container\">\r\n            <div className=\"auth-form\">\r\n                <h1>Welcome back</h1>\r\n                <p>Enter your credentials to access your account</p>\r\n                <div className=\"auth-toggle\">\r\n                    <button \r\n                        className={isLogin ? 'active' : ''} \r\n                        onClick={() => setIsLogin(true)}\r\n                    >\r\n                        Login\r\n                    </button>\r\n                    <button \r\n                        className={!isLogin ? 'active' : ''} \r\n                        onClick={() => setIsLogin(false)}\r\n                    >\r\n                        Register\r\n                    </button>\r\n                </div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            placeholder=\"Enter your username\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <div className=\"password-input\">\r\n                            <input\r\n                                type={showPassword ? \"text\" : \"password\"}\r\n                                id=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                required\r\n                            />\r\n                            <Eye \r\n                                className=\"password-toggle\" \r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    {!isLogin && (\r\n                        <>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    id=\"confirmPassword\"\r\n                                    value={confirmPassword}\r\n                                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"email\">Email</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    id=\"email\"\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"displayName\">Display Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"displayName\"\r\n                                    value={displayName}\r\n                                    onChange={(e) => setDisplayName(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"fullName\">Full Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"fullName\"\r\n                                    value={fullName}\r\n                                    onChange={(e) => setFullName(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"dateOfBirth\">Date of Birth</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    id=\"dateOfBirth\"\r\n                                    value={dateOfBirth}\r\n                                    onChange={(e) => setDateOfBirth(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"location\">Location</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"location\"\r\n                                    value={location}\r\n                                    onChange={(e) => setLocation(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"bio\">Bio</label>\r\n                                <textarea\r\n                                    id=\"bio\"\r\n                                    value={bio}\r\n                                    onChange={(e) => setBio(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"website\">Website</label>\r\n                                <input\r\n                                    type=\"url\"\r\n                                    id=\"website\"\r\n                                    value={website}\r\n                                    onChange={(e) => setWebsite(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                    {error && <p className=\"error\">{error}</p>}\r\n                    <button type=\"submit\" className=\"submit-btn\">\r\n                        {isLogin ? 'Sign In' : 'Create Account'}\r\n                    </button>\r\n                </form>\r\n                <p className=\"terms\">\r\n                    Protected by reCAPTCHA and subject to the Privacy Policy and Terms of Service\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AuthForm;"]},"metadata":{},"sourceType":"module"}